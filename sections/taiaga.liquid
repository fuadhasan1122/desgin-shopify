<script src="https://cdn.tailwindcss.com"></script>

<!-- MOBILE MENU -->
<div id="mobile-menu" class="fixed inset-0 z-[100] invisible transition-all duration-300">
  <div id="menu-backdrop" class="absolute inset-0 bg-black/50 opacity-0 transition-opacity duration-300"></div>

  <div
    id="menu-content"
    class="absolute left-0 top-0 h-full w-[85%] sm:w-[320px] bg-white
    translate-x-[-100%] transition-transform duration-300 p-6 flex flex-col"
  >
    <div class="flex justify-between items-center ">
      <span class="font-black italic text-2xl">TAIGA</span>
      <button id="close-menu" class="p-2">
        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <nav class="flex flex-col space-y-6 text-xl font-bold uppercase tracking-widest">
      <a href="/" class="hover:text-pink-600 transition-colors">Home</a>
      <a href="/collections/all" class="hover:text-pink-600 transition-colors">Shop</a>
      <a href="/pages/about" class="hover:text-pink-600 transition-colors">About</a>
    </nav>

    <div class="mt-auto border-t pt-6">
      <div class="flex items-center space-x-4">
        <img src="https://flagcdn.com/w80/us.png" class="w-6 h-6 rounded-full">
        <span class="font-bold">United States (USD)</span>
      </div>
    </div>
  </div>
</div>

<!-- ANNOUNCEMENT BAR -->
<div
  class="z-50 py-2 md:py-4 px-4"
  style="background-color: {{ section.settings.bg_color }};
         color: {{ section.settings.text_color }};"
>
  <div
    class="container mx-auto flex flex-col sm:flex-row gap-1 sm:gap-0
    justify-between items-center text-[10px] sm:text-xs md:text-sm
    font-bold uppercase tracking-wider text-center sm:text-left"
  >
    <a href="{{ section.settings.link_1 }}"
      class="flex-1 italic underline hover:opacity-80">
      {{ section.settings.text_1 }}
    </a>

    <a href="{{ section.settings.link_2 }}"
      class="flex-1 hover:opacity-80">
      {{ section.settings.text_2 }}
    </a>

    <a href="{{ section.settings.link_3 }}"
      class="flex-1 italic underline hover:opacity-80">
      {{ section.settings.text_3 }}
    </a>
  </div>
</div>

<!-- HERO + HEADER -->
<section
  class="relative min-h-[420px] sm:min-h-[550px] md:min-h-[700px] lg:min-h-[900px] relative overflow-hidden
  flex flex-col items-center overflow-hidden bg-cover bg-center max-w-full"
  style="background-image:url('{{ section.settings.hero_bg_image | img_url: '1800x' }}')"
>
  <header
  class="
    w-full z-50 flex items-center justify-between
    px-4 sm:px-6 md:px-10 lg:px-[60px]
    py-4 sm:py-6 md:py-10 text-black
    transition-all duration-300 mt-[40px]
    {% if section.settings.enable_sticky_header %}
      sticky top-0 backdrop-blur
    {% endif %}
  "
>

    <!-- LEFT -->
    <nav class="flex items-center gap-6">
  <button id="open-menu" class="p-2 hover:bg-black/5 rounded-full transition-colors">
    <svg class="w-7 h-7 md:w-9 md:h-9" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M4 6h16M4 12h16m-7 6h7"></path>
    </svg>
  </button>

  <div class=" md:flex space-x-2 sm:space-x-8">
    <a href="/" class="uppercase font-bold hover:text-pink-800">Home</a>
    <a href="/collections/all" class="uppercase font-bold hover:text-pink-800">Shop</a>
    <a href="/pages/about" class="uppercase font-bold hover:text-pink-800">About</a>
  </div>
</nav>


    <!-- CENTER LOGO -->
    <div class="absolute left-1/2 -translate-x-1/2">
      {% if section.settings.logo_img != blank %}
        <a href="/">
          <img
            src="{{ section.settings.logo_img | img_url: '400x' }}"
            class="w-20 sm:w-28 md:w-36 lg:w-44 transition-all"
          >
        </a>
      {% else %}
        <a href="/" class="text-3xl md:text-5xl font-black italic">Taiga</a>
      {% endif %}
    </div>

    <!-- RIGHT -->
    <div class="flex items-center space-x-2 sm:space-x-5 md:space-x-8">
      <img src="https://flagcdn.com/w80/us.png"
        class="w-5 h-5 md:w-6 md:h-6 rounded-full">

      <button>
        <svg class="w-6 h-6 md:w-8 md:h-8" fill="none" stroke="currentColor"
          viewBox="0 0 24 24">
          <path stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
      </button>

      <button class=" sm:block">
        <svg class="w-6 h-6 md:w-8 md:h-8" fill="none" stroke="currentColor"
          viewBox="0 0 24 24">
          <path stroke-width="2"
            d="M16 7a4 4 0 11-8 0 4 4 0 018 0z
               M12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
        </svg>
      </button>

      <button class="relative">
        <svg class="w-6 h-6 md:w-8 md:h-8" fill="none" stroke="currentColor"
          viewBox="0 0 24 24">
          <path stroke-width="2"
            d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
        </svg>
        <span
          class="absolute -top-1 -right-1 bg-pink-600 text-white
          text-[10px] w-4 h-4 rounded-full flex items-center justify-center"
        >3</span>
      </button>
    </div>
  </header>

  <!-- WAVE -->
<div class="absolute bottom-0 left-0 w-full pointer-events-none z-20">
  <svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">

    <!-- Back soft wave -->
    <path
      fill="pink"
      fill-opacity="10"
      d="M0,240
         C120,210 240,170 360,180
         C480,190 600,240 720,250
         C840,260 960,220 1080,205
         C1200,190 1320,215 1440,225
         L1440,320 L0,320 Z">
    </path>

    <!-- Front main wave -->
    <path
      fill="#ffffff"
      d="M0,260
         C160,240 320,210 480,220
         C640,230 800,260 960,250
         C1120,240 1280,220 1440,235
         L1440,320 L0,320 Z">
    </path>

  </svg>
</div>


</section>

<!-- MENU SCRIPT -->
<script>
  const openBtn = document.getElementById("open-menu");
  const closeBtn = document.getElementById("close-menu");
  const menu = document.getElementById("mobile-menu");
  const backdrop = document.getElementById("menu-backdrop");
  const content = document.getElementById("menu-content");

  function toggleMenu(open) {
    if (open) {
      menu.classList.remove("invisible");
      backdrop.classList.replace("opacity-0", "opacity-100");
      content.classList.replace("translate-x-[-100%]", "translate-x-0");
      document.body.style.overflow = "hidden";
    } else {
      backdrop.classList.replace("opacity-100", "opacity-0");
      content.classList.replace("translate-x-0", "translate-x-[-100%]");
      setTimeout(() => {
        menu.classList.add("invisible");
        document.body.style.overflow = "";
      }, 300);
    }
  }

  openBtn.onclick = () => toggleMenu(true);
  closeBtn.onclick = () => toggleMenu(false);
  backdrop.onclick = () => toggleMenu(false);
</script>

{% schema %}
{
  "name": "Taiga Header + Hero",
  "settings": [
    {
      "type": "checkbox",
      "id": "enable_sticky_header",
      "label": "Enable Sticky Header",
      "default": true
    },
    { "type": "color", "id": "bg_color", "label": "Bar Background", "default": "#e50b9c" },
    { "type": "color", "id": "text_color", "label": "Bar Text", "default": "#ffffff" },
    { "type": "image_picker", "id": "hero_bg_image", "label": "Hero Background" },
    { "type": "image_picker", "id": "logo_img", "label": "Logo" }
  ],
  "presets": [{ "name": "Taiga Header + Hero" }]
}

{% endschema %}
